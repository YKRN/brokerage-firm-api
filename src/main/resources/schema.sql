
CREATE TABLE IF NOT EXISTS app_user (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(50) NOT NULL UNIQUE,
    password VARCHAR(100) NOT NULL,
    role VARCHAR(20) NOT NULL
);


CREATE TABLE IF NOT EXISTS asset (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    customer_id BIGINT NOT NULL,
    asset_name VARCHAR(50) NOT NULL,
    size DOUBLE NOT NULL,
    usable_size DOUBLE NOT NULL
);


CREATE TABLE IF NOT EXISTS customer_order (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    customer_id BIGINT NOT NULL,
    asset_name VARCHAR(255) NOT NULL,
    order_side VARCHAR(255) NOT NULL,
    size DOUBLE NOT NULL,
    price DOUBLE NOT NULL,
    status VARCHAR(255) NOT NULL,
    create_date TIMESTAMP(6) NOT NULL
);


ALTER TABLE asset ADD FOREIGN KEY (customer_id) REFERENCES app_user (id) ON DELETE CASCADE ON UPDATE CASCADE;
ALTER TABLE customer_order ADD FOREIGN KEY (customer_id) REFERENCES app_user (id) ON DELETE CASCADE ON UPDATE CASCADE;
